(()=>{"use strict";const e=window.wp.element,t=window.wp.components,a=window.wp.url;function n(t){const{displayValue:a,score:n}=t;let l="";return l=n>=.9&&n<=1?"category-FAST":n>=.6&&n<=.89?"category-AVERAGE":"category-SLOW",a?(0,e.createElement)("div",{className:`psi-audit-score ${l}`}," - ",a):null}function l(a){const{data:{audits:l},title:i}=a;return l.map((a=>a.score>=.9||null==a.score?null:(0,e.createElement)(t.Panel,{className:`panel-${a.id}`},(0,e.createElement)(t.PanelBody,{title:a.title,icon:(0,e.createElement)(n,a),initialOpen:!1},(0,e.createElement)("p",null,a.description)))))}function i(t){const{id:a,loadingExperience:n,lighthouseResult:l}=t,[i,r]=(0,e.useState)([]),s={overallScore:n.overall_category,metrics:[{name:"First Contentful Paint",category:n.metrics.FIRST_CONTENTFUL_PAINT_MS.category,audit:l.audits["first-contentful-paint"]},{name:"Largest Contentful Paint",category:n.metrics.LARGEST_CONTENTFUL_PAINT_MS.category,audit:l.audits["largest-contentful-paint"]},{name:"Cumulative Layout Shift",category:n.metrics.CUMULATIVE_LAYOUT_SHIFT_SCORE.category,audit:l.audits["cumulative-layout-shift"]}]};return(0,e.createElement)("div",{class:"psi-category"},(0,e.createElement)("h2",{className:"psi-category-title"},"Core Web Vitals"),(0,e.createElement)("p",{className:"psi-category-description"},"Each of the Core Web Vitals represents a distinct facet of the user experience, is measurable in the field, and reflects the real-world experience of a critical user-centric outcome. The metrics that make up Core Web Vitals will evolve over time. The current set for 2020 focuses on three aspects of the user experience—loading, interactivity, and visual stability—and includes the following metrics (and their respective thresholds):"),(0,e.createElement)("div",{class:"psi-row psi-metrices"},s.metrics.map((t=>(0,e.createElement)("div",{className:"psi-card"},(0,e.createElement)("h3",{className:"psi-card-title"},t.name),(0,e.createElement)("div",{className:`psi-card-score category-${t.category}`},t.audit.displayValue),(0,e.createElement)("p",{className:"psi-card-description"},t.audit.description))))))}function r(t){return console.log(t),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,t.title),(0,e.createElement)(l,t))}function s(a){const{id:n,lighthouseResult:l}=a,{audits:i,categories:s}=l,[c,o]=(0,e.useState)([]);return(0,e.useEffect)((()=>{(()=>{let e=[];for(const a in s)s.hasOwnProperty(a)&&e.push({name:s[a].id,title:s[a].title,className:`tab-${s[a].id}`,data:{auditRefs:s[a].auditRefs||[],audits:(t=s[a].auditRefs,t.map((e=>i[e.id]||null)))}});var t;o([...c,...e])})()}),[]),console.log(a),(0,e.createElement)(t.TabPanel,{className:"psi-tab-panel",activeClass:"active-tab",onSelect:null,tabs:c},(t=>(0,e.createElement)(r,t)))}function c(){const[t,n]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=function(){let e="",t="",n=(0,a.buildQueryString)({url:"https://sportsnaut.com",key:"AIzaSyCx3TyJmlIjolXYK6dylWEDoaEOsuECbzk",strategy:"MOBILE"});return["PERFORMANCE","ACCESSIBILITY","SEO","BEST_PRACTICES"].forEach((t=>{e+=`&category=${t}`})),t="https://www.googleapis.com/pagespeedonline/v5/runPagespeed?"+n+e,t}();fetch(e).then((e=>e.json())).then((e=>{n(e)}))}),[]),null==t?(0,e.createElement)("h3",null,"Loading..."):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i,t),(0,e.createElement)(s,t))}window.addEventListener("load",(function(){(0,e.render)((0,e.createElement)(c,null),document.querySelector("#bca-psi-root"))}),!1)})();